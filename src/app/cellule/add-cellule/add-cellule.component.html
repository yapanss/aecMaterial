
<form [formGroup]="celluleForm" novalidate (ngSubmit)="submitCellule($event)">
 <mat-horizontal-stepper [linear]="true" #stepper labelPosition="bottom">
  <mat-step formGroupName="champGroup" [stepControl]="champGroup">

    <!-- <h2>Infos du champ</h2> -->
    <mat-form-field>
      <input matInput placeholder="Date" [matDatepicker]="celluleDate" formControlName="dateCellule">
      <mat-datepicker-toggle matSuffix [for]="celluleDate">
      </mat-datepicker-toggle>
      <mat-datepicker #celluleDate></mat-datepicker>
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Champ" formControlName="champ">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Lieu" formControlName="lieu">
    </mat-form-field>
    <mat-form-field>
      <textarea matInput placeholder="Relecture" formControlName="relecture"></textarea>
    </mat-form-field>
    <div>
      <button type="button" mat-icon-button matStepperNext>
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>

  </mat-step>
  <mat-step formGroupName="fpnGroup" [stepControl]="fpnGroup">

    <!-- <ng-template matStepLabel>
      Entrer les Infos des pénuptiaux
    </ng-template> -->
    <h2>Infos des prénuptiaux</h2>
    <mat-form-field>
      <input matInput placeholder="Effectif Total" formControlName="fpnTotal" type="number">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Effectif Des Nouveaux" formControlName="fpnNouveaux" type="number">
    </mat-form-field>

<!-- *******************************************************
 -->    <mat-form-field>
      <input matInput placeholder="Méditation" formControlName="meditationTexte" type="text" [matAutocomplete]="medit">
    </mat-form-field>

    <mat-autocomplete #medit="matAutocomplete">
      <mat-option *ngFor="let option of meditOptions" [value]="option">{{option}}</mat-option>
    </mat-autocomplete>
<!-- ******************************************************* -->
    <mat-form-field>
      <input matInput placeholder="Dirigeant" formControlName="meditationDirigeant">
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Enseignement" formControlName="enseignementTitre" type="text" [matAutocomplete]="enseign">
    </mat-form-field>
     <mat-autocomplete #enseign="matAutocomplete">
      <mat-option *ngFor="let option of enseignOptions" [value]="option">{{option}}</mat-option>
    </mat-autocomplete>

    <mat-form-field>
      <input matInput placeholder="Enseignant" formControlName="enseignant">
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Question De Partage" formControlName="questionPartage" [matAutocomplete]="fpnPartage">
    </mat-form-field>
    <mat-autocomplete #fpnPartage="matAutocomplete">
      <mat-option *ngFor="let option of fpnPartageOptions" [value]="option">{{option}}</mat-option>
    </mat-autocomplete>


    <mat-form-field>
      <input matInput placeholder="Modérateur" formControlName="moderateur">
    </mat-form-field>
    <div>
      <button type="button" mat-icon-button matStepperPrevious>
        <mat-icon>arrow_back</mat-icon>
      </button>
      <button type="button" mat-icon-button matStepperNext>
        <mat-icon>arrow_forward</mat-icon>
      </button>

    </div>

  </mat-step>

  <mat-step formGroupName="cdnGroup" [stepControl]="cdnGroup">

    <ng-template matStepLabel>
      Entrer les Infos des mariés
    </ng-template>
    <h2>Infos des mariés</h2>
    <mat-form-field>
      <input matInput placeholder="Effectif Total" formControlName="cdnTotal" type="number">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Effectif Des Nouveaux" formControlName="cdnNouveaux" type="number">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Méditation" formControlName="meditationTexte" type="text">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Dirigeant" formControlName="meditationDirigeant">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Enseignement" formControlName="enseignementTitre" type="text">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Enseignant" formControlName="enseignant">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Question De Partage" formControlName="questionPartage">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Modérateur" formControlName="moderateur">
    </mat-form-field>
    <div>
      <button type="button" mat-icon-button matStepperPrevious>
        <mat-icon>arrow_back</mat-icon>
      </button>
      <button type="button" mat-icon-button matStepperNext>
        <mat-icon>arrow_forward</mat-icon>
      </button>

    </div>

  </mat-step>

<!-- Vie En Abondance -->

<mat-step formGroupName="veaGroup" [stepControl]="veaGroup">

    <!-- <ng-template matStepLabel>
      Vie En Abondance
    </ng-template> -->
    <h2>Vie en abondance</h2>
    <mat-form-field>
      <input matInput placeholder="Effectif Total" formControlName="veaTotal" type="number">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Effectif Des Nouveaux" formControlName="veaNouveaux" type="number">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Enseignement" formControlName="enseignementTitre" type="text">
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Enseignant" formControlName="enseignant">
    </mat-form-field>
    <div>
      <button type="button" mat-icon-button matStepperPrevious>
        <mat-icon>arrow_back</mat-icon>
      </button>
      <button type="button" mat-icon-button matStepperNext>
        <mat-icon>arrow_forward</mat-icon>
      </button>

    </div>
  </mat-step>

<mat-step formGroupName="participantGroup" [stepControl]="participantGroup">

    <!-- <ng-template matStepLabel>
      Vie En Abondance
    </ng-template> -->
    <h2>Participants</h2>


<table mat-table [dataSource]="listeParticipants">
  <ng-container matColumnDef="check">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="checkAll()" [checked]="allChecked">
      </mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let participant; let i=index">
      <mat-checkbox (change)="checkOne(i)" [checked]="participant.isChecked">
      </mat-checkbox>
    </td>
  </ng-container>


  <ng-container matColumnDef="nom">
    <th mat-header-cell *matHeaderCellDef>Noms et Prénoms</th>
    <td mat-cell *matCellDef="let participant">{{participant.nom}}</td>
  </ng-container>

  <ng-container matColumnDef="type_cellule" >
    <th mat-header-cell *matHeaderCellDef>Cellule</th>
    <td mat-cell *matCellDef="let participant" >
      <mat-form-field *ngIf="participant.isChecked">
              <mat-select [(value)]="participant.typeCellule" >

                <mat-option  *ngFor="let typeCell of typeCellules" [value]="typeCell">{{typeCell}}</mat-option>
              </mat-select>
            </mat-form-field>
    </td>
  </ng-container>

 <ng-container matColumnDef="livre" >
    <th mat-header-cell *matHeaderCellDef>Livre</th>
    <td mat-cell *matCellDef="let participant" >
      <mat-form-field *ngIf="participant.isChecked">
              <mat-select [(value)]="participant.livre" >

                <mat-option  *ngFor="let livre of livres" [value]="livre">{{livre}}</mat-option>
              </mat-select>
            </mat-form-field>
    </td>
  </ng-container>

  <ng-container matColumnDef="chapitre" >
    <th mat-header-cell *matHeaderCellDef>Chapitre</th>
    <td mat-cell *matCellDef="let participant" >
      <mat-form-field *ngIf="participant.isChecked">
              <mat-select [(value)]="participant.chap" >

                <mat-option  *ngFor="let chap of chapitres" [value]="chap">{{chap}}</mat-option>
              </mat-select>
            </mat-form-field>
    </td>
  </ng-container>
<tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
<tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
    </table>

<!-- ******************************************* -->




    <div>
      <button type="button" mat-icon-button matStepperPrevious>
        <mat-icon>arrow_back</mat-icon>
      </button>
      <button type="button" mat-icon-button matStepperNext>
        <mat-icon>arrow_forward</mat-icon>
      </button>

    </div>
<div>
   <button type="submit" mat-raised-button color="primary" class="spacer">Submit</button>
 </div>
  </mat-step>

 </mat-horizontal-stepper>

</form>
